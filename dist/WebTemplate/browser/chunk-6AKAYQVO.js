import{b as Se,d as Me,j as ve}from"./chunk-3T3Z5BFP.js";import{D as ue,E as fe,F as ge,G as Ce,H as _e,I as he,J as Ae,K as ye,L as Oe,b as te,c as ie,d as ne,e as ae,f as oe,g as re,h as le,i as me,j as se,k as de,l as Be,m as ce,s as He,v,w as je,x as E,y as pe,z as $e}from"./chunk-5VTVZEZ6.js";import{$a as $,Ad as ke,Bd as K,Ca as a,Cb as we,Cc as A,Cd as W,Da as n,Dd as X,Ea as f,Fa as C,Ga as _,Gd as Y,Hc as T,Ia as H,Ic as Fe,Id as Re,J as xe,Jb as Ie,Ka as g,Kd as R,La as M,Ld as Z,Od as ee,Pa as w,Q as x,Qa as I,R as D,Ra as F,Rd as N,Sd as Ne,Ta as r,Ua as h,Va as j,Vd as U,Wd as Ue,a as B,ed as k,fa as s,gd as O,hd as Le,ja as p,jd as P,ld as y,ma as b,na as De,ob as L,od as V,pd as q,ra as c,rd as Q,sb as be,ta as d,td as G,wd as z,yd as J,zd as Te}from"./chunk-346T4PMV.js";function qe(e,l){e&1&&(a(0,"mat-error"),r(1," Email is required "),n())}function Qe(e,l){e&1&&(a(0,"mat-error"),r(1," Please enter a valid email "),n())}function Ge(e,l){e&1&&(a(0,"mat-error"),r(1," Full Name is required "),n())}function ze(e,l){e&1&&(a(0,"mat-error"),r(1," Password is required "),n())}function Je(e,l){e&1&&(a(0,"mat-error"),r(1," Password must be at least 6 characters "),n())}function Ke(e,l){if(e&1&&(a(0,"mat-form-field",2)(1,"mat-label"),r(2,"Password"),n(),f(3,"input",10),c(4,ze,2,0,"mat-error",4)(5,Je,2,0,"mat-error",4),n()),e&2){let t,o,i=M();s(4),d("ngIf",(t=i.userForm.get("passwordHash"))==null?null:t.hasError("required")),s(),d("ngIf",(o=i.userForm.get("passwordHash"))==null?null:o.hasError("minlength"))}}var Ee=()=>[5,10,25,100];function We(e,l){e&1&&(a(0,"th",19),r(1,"ID"),n())}function Xe(e,l){if(e&1&&(a(0,"td",20),r(1),n()),e&2){let t=l.$implicit;s(),h(t.id)}}function Ye(e,l){e&1&&(a(0,"th",19),r(1,"Email"),n())}function Ze(e,l){if(e&1&&(a(0,"td",20),r(1),n()),e&2){let t=l.$implicit;s(),h(t.email)}}function et(e,l){e&1&&(a(0,"th",19),r(1,"Full Name"),n())}function tt(e,l){if(e&1&&(a(0,"td",20),r(1),n()),e&2){let t=l.$implicit;s(),h(t.fullName)}}function it(e,l){e&1&&(a(0,"th",21),r(1,"Role"),n())}function nt(e,l){if(e&1&&(a(0,"td",20),r(1),n()),e&2){let t=l.$implicit;s(),h(t.role==null?null:t.role.name)}}function at(e,l){e&1&&(a(0,"th",21),r(1,"Actions"),n())}function ot(e,l){if(e&1){let t=H();a(0,"td",20)(1,"button",22),g("click",function(){let i=x(t).$implicit,m=M();return D(m.openDialog(i))}),a(2,"mat-icon"),r(3,"edit"),n()(),a(4,"button",23),g("click",function(){let i=x(t).$implicit,m=M();return D(m.deleteUser(i.id))}),a(5,"mat-icon"),r(6,"delete"),n()()()}}function rt(e,l){e&1&&f(0,"tr",24)}function lt(e,l){e&1&&f(0,"tr",25)}function mt(e,l){e&1&&(a(0,"div",26),f(1,"mat-spinner"),n())}function st(e,l){e&1&&(a(0,"mat-error"),r(1," Name is required "),n())}function dt(e,l){e&1&&(a(0,"mat-error"),r(1," Name must not exceed 100 characters "),n())}function ct(e,l){e&1&&(a(0,"mat-error"),r(1," Description must not exceed 500 characters "),n())}var Pe=".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}mat-dialog-content[_ngcontent-%COMP%]{min-width:400px}";function pt(e,l){e&1&&(a(0,"th",18),r(1,"ID"),n())}function ut(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.id)}}function ft(e,l){e&1&&(a(0,"th",18),r(1,"Name"),n())}function gt(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.name)}}function Ct(e,l){e&1&&(a(0,"th",20),r(1,"Description"),n())}function _t(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.description)}}function ht(e,l){e&1&&(a(0,"th",20),r(1,"Actions"),n())}function yt(e,l){if(e&1){let t=H();a(0,"td",19)(1,"button",21),g("click",function(){let i=x(t).$implicit,m=M();return D(m.openDialog(i))}),a(2,"mat-icon"),r(3,"edit"),n()(),a(4,"button",22),g("click",function(){let i=x(t).$implicit,m=M();return D(m.deleteCategory(i.id))}),a(5,"mat-icon"),r(6,"delete"),n()()()}}function St(e,l){e&1&&f(0,"tr",23)}function Mt(e,l){e&1&&f(0,"tr",24)}function vt(e,l){e&1&&(a(0,"div",25),f(1,"mat-spinner"),n())}var Ve=".container[_ngcontent-%COMP%]{padding:2rem}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.table-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:#00000026;z-index:1;display:flex;align-items:center;justify-content:center}";function Et(e,l){e&1&&(a(0,"mat-error"),r(1," Name is required "),n())}function xt(e,l){e&1&&(a(0,"mat-error"),r(1," Name must not exceed 100 characters "),n())}function Dt(e,l){e&1&&(a(0,"mat-error"),r(1," Domain must not exceed 50 characters "),n())}function bt(e,l){e&1&&(a(0,"th",18),r(1,"ID"),n())}function wt(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.id)}}function It(e,l){e&1&&(a(0,"th",18),r(1,"Name"),n())}function Ft(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.name)}}function Lt(e,l){e&1&&(a(0,"th",20),r(1,"Domain"),n())}function Tt(e,l){if(e&1&&(a(0,"td",19),r(1),n()),e&2){let t=l.$implicit;s(),h(t.domain)}}function kt(e,l){e&1&&(a(0,"th",20),r(1,"Actions"),n())}function Rt(e,l){if(e&1){let t=H();a(0,"td",19)(1,"button",21),g("click",function(){let i=x(t).$implicit,m=M();return D(m.openDialog(i))}),a(2,"mat-icon"),r(3,"edit"),n()(),a(4,"button",22),g("click",function(){let i=x(t).$implicit,m=M();return D(m.deleteCompany(i.id))}),a(5,"mat-icon"),r(6,"delete"),n()()()}}function Nt(e,l){e&1&&f(0,"tr",23)}function Ut(e,l){e&1&&f(0,"tr",24)}function Bt(e,l){e&1&&(a(0,"div",25),f(1,"mat-spinner"),n())}var Ht=(()=>{class e{constructor(t,o,i,m,u){this.fb=t,this.userService=o,this.snackBar=i,this.dialogRef=m,this.data=u,this.isEditMode=!1,this.isEditMode=!!u}ngOnInit(){this.initForm()}initForm(){this.userForm=this.fb.group({id:[this.data?.id||0],email:[this.data?.email||"",[y.required,y.email,y.maxLength(30)]],fullName:[this.data?.fullName||"",[y.required,y.maxLength(100)]]})}onSubmit(){if(this.userForm.valid){let t=this.userForm.value;(this.isEditMode?this.userService.put(t):this.userService.post(t)).subscribe({next:()=>{this.snackBar.open(`User ${this.isEditMode?"updated":"created"} successfully!`,"Close",{duration:3e3}),this.dialogRef.close(!0)},error:i=>{this.snackBar.open("Error: "+i.message,"Close",{duration:3e3})}})}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||e)(p(J),p(ve),p(k),p(ue),p(fe))}}static{this.\u0275cmp=b({type:e,selectors:[["app-user-form-dialog"]],standalone:!1,decls:21,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["matInput","","formControlName","fullName","type","text"],["appearance","fill","class","full-width",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["matInput","","formControlName","passwordHash","type","password"]],template:function(o,i){if(o&1&&(a(0,"h2",0),r(1),n(),a(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),r(6,"Email"),n(),f(7,"input",3),c(8,qe,2,0,"mat-error",4)(9,Qe,2,0,"mat-error",4),n(),a(10,"mat-form-field",2)(11,"mat-label"),r(12,"Full Name"),n(),f(13,"input",5),c(14,Ge,2,0,"mat-error",4),n(),c(15,Ke,6,2,"mat-form-field",6),n()(),a(16,"mat-dialog-actions",7)(17,"button",8),g("click",function(){return i.onCancel()}),r(18,"Cancel"),n(),a(19,"button",9),g("click",function(){return i.onSubmit()}),r(20),n()()),o&2){let m,u,S;s(),h(i.isEditMode?"Edit User":"Add User"),s(2),d("formGroup",i.userForm),s(5),d("ngIf",(m=i.userForm.get("email"))==null?null:m.hasError("required")),s(),d("ngIf",(u=i.userForm.get("email"))==null?null:u.hasError("email")),s(5),d("ngIf",(S=i.userForm.get("fullName"))==null?null:S.hasError("required")),s(),d("ngIf",!i.isEditMode),s(4),d("disabled",!i.userForm.valid),s(),j(" ",i.isEditMode?"Update":"Create"," ")}},dependencies:[L,Q,P,V,q,G,z,N,R,Z,U,T,Ce,he,_e],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}mat-dialog-content[_ngcontent-%COMP%]{min-width:400px}"]})}}return e})(),jt=(()=>{class e{constructor(t,o,i){this.userService=t,this.dialog=o,this.snackBar=i,this.displayedColumns=["id","email","fullName","role","actions"],this.dataSource=new ce,this.isLoading=!1}ngOnInit(){this.loadUsers()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadUsers(){this.isLoading=!0,this.userService.getAll().subscribe({next:t=>{this.dataSource.data=t,this.isLoading=!1},error:t=>{this.snackBar.open("Error loading users: "+t.message,"Close",{duration:3e3}),this.isLoading=!1}})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLowerCase()}openDialog(t){this.dialog.open(Ht,{width:"600px",data:t?B({},t):null}).afterClosed().subscribe(i=>{i&&this.loadUsers()})}deleteUser(t){confirm("Are you sure you want to delete this user?")&&this.userService.delete(t).subscribe({next:()=>{this.snackBar.open("User deleted successfully!","Close",{duration:3e3}),this.loadUsers()},error:o=>{this.snackBar.open("Error deleting user: "+o.message,"Close",{duration:3e3})}})}static{this.\u0275fac=function(o){return new(o||e)(p(ve),p(ge),p(k))}}static{this.\u0275cmp=b({type:e,selectors:[["app-users-list"]],viewQuery:function(o,i){if(o&1&&(w(v,5),w(E,5)),o&2){let m;I(m=F())&&(i.paginator=m.first),I(m=F())&&(i.sort=m.first)}},standalone:!1,decls:37,vars:6,consts:[[1,"container"],["mat-raised-button","","color","primary",3,"click"],["appearance","fill",1,"search-field"],["matInput","","placeholder","Search users...",3,"keyup"],["matSuffix",""],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","fullName"],["matColumnDef","role"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","loading-shade",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-shade"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),r(4,"User Management"),n(),a(5,"button",1),g("click",function(){return i.openDialog()}),a(6,"mat-icon"),r(7,"add"),n(),r(8," Add User "),n()(),a(9,"mat-card-content")(10,"mat-form-field",2)(11,"mat-label"),r(12,"Search"),n(),a(13,"input",3),g("keyup",function(u){return i.applyFilter(u)}),n(),a(14,"mat-icon",4),r(15,"search"),n()(),a(16,"div",5)(17,"table",6),C(18,7),c(19,We,2,0,"th",8)(20,Xe,2,1,"td",9),_(),C(21,10),c(22,Ye,2,0,"th",8)(23,Ze,2,1,"td",9),_(),C(24,11),c(25,et,2,0,"th",8)(26,tt,2,1,"td",9),_(),C(27,12),c(28,it,2,0,"th",13)(29,nt,2,1,"td",9),_(),C(30,14),c(31,at,2,0,"th",13)(32,ot,7,0,"td",9),_(),c(33,rt,1,0,"tr",15)(34,lt,1,0,"tr",16),n(),f(35,"mat-paginator",17),n(),c(36,mt,2,0,"div",18),n()()()),o&2&&(s(17),d("dataSource",i.dataSource),s(16),d("matHeaderRowDef",i.displayedColumns),s(),d("matRowDefColumns",i.displayedColumns),s(),d("pageSizeOptions",$(5,Ee)),s(),d("ngIf",i.isLoading))},dependencies:[L,N,R,ee,U,T,A,K,X,Y,W,O,te,ne,le,ae,ie,me,oe,re,se,de,v,E,pe,ye],styles:[".container[_ngcontent-%COMP%]{padding:2rem}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.table-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:#00000026;z-index:1;display:flex;align-items:center;justify-content:center}"]})}}return e})(),$t=(()=>{class e{constructor(t,o,i,m,u){this.fb=t,this.categoryService=o,this.snackBar=i,this.dialogRef=m,this.data=u,this.isEditMode=!1,this.isEditMode=!!u}ngOnInit(){this.initForm()}initForm(){this.categoryForm=this.fb.group({id:[this.data?.id||0],name:[this.data?.name||"",[y.required,y.maxLength(100)]],description:[this.data?.description||"",y.maxLength(500)]})}onSubmit(){if(this.categoryForm.valid){let t=this.categoryForm.value;(this.isEditMode?this.categoryService.put(t):this.categoryService.post(t)).subscribe({next:()=>{this.snackBar.open(`Category ${this.isEditMode?"updated":"created"} successfully!`,"Close",{duration:3e3}),this.dialogRef.close(!0)},error:i=>{this.snackBar.open("Error: "+i.message,"Close",{duration:3e3})}})}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||e)(p(J),p(Se),p(k),p(ue),p(fe))}}static{this.\u0275cmp=b({type:e,selectors:[["app-category-form-dialog"]],standalone:!1,decls:20,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","name","type","text"],[4,"ngIf"],["matInput","","formControlName","description","rows","4"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(o,i){if(o&1&&(a(0,"h2",0),r(1),n(),a(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),r(6,"Name"),n(),f(7,"input",3),c(8,st,2,0,"mat-error",4)(9,dt,2,0,"mat-error",4),n(),a(10,"mat-form-field",2)(11,"mat-label"),r(12,"Description"),n(),f(13,"textarea",5),c(14,ct,2,0,"mat-error",4),n()()(),a(15,"mat-dialog-actions",6)(16,"button",7),g("click",function(){return i.onCancel()}),r(17,"Cancel"),n(),a(18,"button",8),g("click",function(){return i.onSubmit()}),r(19),n()()),o&2){let m,u,S;s(),h(i.isEditMode?"Edit Category":"Add Category"),s(2),d("formGroup",i.categoryForm),s(5),d("ngIf",(m=i.categoryForm.get("name"))==null?null:m.hasError("required")),s(),d("ngIf",(u=i.categoryForm.get("name"))==null?null:u.hasError("maxlength")),s(5),d("ngIf",(S=i.categoryForm.get("description"))==null?null:S.hasError("maxlength")),s(4),d("disabled",!i.categoryForm.valid),s(),j(" ",i.isEditMode?"Update":"Create"," ")}},dependencies:[L,Q,P,V,q,G,z,N,R,Z,U,T,Ce,he,_e],styles:[Pe]})}}return e})(),At=(()=>{class e{constructor(t,o,i){this.categoryService=t,this.dialog=o,this.snackBar=i,this.displayedColumns=["id","name","description","actions"],this.dataSource=new ce,this.isLoading=!1}ngOnInit(){this.loadCategories()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadCategories(){this.isLoading=!0,this.categoryService.getAll().subscribe({next:t=>{this.dataSource.data=t,this.isLoading=!1},error:t=>{this.snackBar.open("Error loading categories: "+t.message,"Close",{duration:3e3}),this.isLoading=!1}})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLowerCase()}openDialog(t){this.dialog.open($t,{width:"600px",data:t?B({},t):null}).afterClosed().subscribe(i=>{i&&this.loadCategories()})}deleteCategory(t){confirm("Are you sure you want to delete this category?")&&this.categoryService.delete(t).subscribe({next:()=>{this.snackBar.open("Category deleted successfully!","Close",{duration:3e3}),this.loadCategories()},error:o=>{this.snackBar.open("Error deleting category: "+o.message,"Close",{duration:3e3})}})}static{this.\u0275fac=function(o){return new(o||e)(p(Se),p(ge),p(k))}}static{this.\u0275cmp=b({type:e,selectors:[["app-categories-list"]],viewQuery:function(o,i){if(o&1&&(w(v,5),w(E,5)),o&2){let m;I(m=F())&&(i.paginator=m.first),I(m=F())&&(i.sort=m.first)}},standalone:!1,decls:34,vars:6,consts:[[1,"container"],["mat-raised-button","","color","primary",3,"click"],["appearance","fill",1,"search-field"],["matInput","","placeholder","Search categories...",3,"keyup"],["matSuffix",""],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","loading-shade",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-shade"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),r(4,"Category Management"),n(),a(5,"button",1),g("click",function(){return i.openDialog()}),a(6,"mat-icon"),r(7,"add"),n(),r(8," Add Category "),n()(),a(9,"mat-card-content")(10,"mat-form-field",2)(11,"mat-label"),r(12,"Search"),n(),a(13,"input",3),g("keyup",function(u){return i.applyFilter(u)}),n(),a(14,"mat-icon",4),r(15,"search"),n()(),a(16,"div",5)(17,"table",6),C(18,7),c(19,pt,2,0,"th",8)(20,ut,2,1,"td",9),_(),C(21,10),c(22,ft,2,0,"th",8)(23,gt,2,1,"td",9),_(),C(24,11),c(25,Ct,2,0,"th",12)(26,_t,2,1,"td",9),_(),C(27,13),c(28,ht,2,0,"th",12)(29,yt,7,0,"td",9),_(),c(30,St,1,0,"tr",14)(31,Mt,1,0,"tr",15),n(),f(32,"mat-paginator",16),n(),c(33,vt,2,0,"div",17),n()()()),o&2&&(s(17),d("dataSource",i.dataSource),s(13),d("matHeaderRowDef",i.displayedColumns),s(),d("matRowDefColumns",i.displayedColumns),s(),d("pageSizeOptions",$(5,Ee)),s(),d("ngIf",i.isLoading))},dependencies:[L,N,R,ee,U,T,A,K,X,Y,W,O,te,ne,le,ae,ie,me,oe,re,se,de,v,E,pe,ye],styles:[Ve]})}}return e})(),Ot=(()=>{class e{constructor(t,o,i,m,u){this.fb=t,this.companyService=o,this.snackBar=i,this.dialogRef=m,this.data=u,this.isEditMode=!1,this.isEditMode=!!u}ngOnInit(){this.initForm()}initForm(){this.companyForm=this.fb.group({id:[this.data?.id||0],name:[this.data?.name||"",[y.required,y.maxLength(100)]],domain:[this.data?.domain||"",y.maxLength(50)]})}onSubmit(){if(this.companyForm.valid){let t=this.companyForm.value;(this.isEditMode?this.companyService.put(t):this.companyService.post(t)).subscribe({next:()=>{this.snackBar.open(`Company ${this.isEditMode?"updated":"created"} successfully!`,"Close",{duration:3e3}),this.dialogRef.close(!0)},error:i=>{this.snackBar.open("Error: "+i.message,"Close",{duration:3e3})}})}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||e)(p(J),p(Me),p(k),p(ue),p(fe))}}static{this.\u0275cmp=b({type:e,selectors:[["app-company-form-dialog"]],standalone:!1,decls:20,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","name","type","text"],[4,"ngIf"],["matInput","","formControlName","domain","type","text","placeholder","example.com"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(o,i){if(o&1&&(a(0,"h2",0),r(1),n(),a(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),r(6,"Name"),n(),f(7,"input",3),c(8,Et,2,0,"mat-error",4)(9,xt,2,0,"mat-error",4),n(),a(10,"mat-form-field",2)(11,"mat-label"),r(12,"Domain"),n(),f(13,"input",5),c(14,Dt,2,0,"mat-error",4),n()()(),a(15,"mat-dialog-actions",6)(16,"button",7),g("click",function(){return i.onCancel()}),r(17,"Cancel"),n(),a(18,"button",8),g("click",function(){return i.onSubmit()}),r(19),n()()),o&2){let m,u,S;s(),h(i.isEditMode?"Edit Company":"Add Company"),s(2),d("formGroup",i.companyForm),s(5),d("ngIf",(m=i.companyForm.get("name"))==null?null:m.hasError("required")),s(),d("ngIf",(u=i.companyForm.get("name"))==null?null:u.hasError("maxlength")),s(5),d("ngIf",(S=i.companyForm.get("domain"))==null?null:S.hasError("maxlength")),s(4),d("disabled",!i.companyForm.valid),s(),j(" ",i.isEditMode?"Update":"Create"," ")}},dependencies:[L,Q,P,V,q,G,z,N,R,Z,U,T,Ce,he,_e],styles:[Pe]})}}return e})(),Pt=(()=>{class e{constructor(t,o,i){this.companyService=t,this.dialog=o,this.snackBar=i,this.displayedColumns=["id","name","domain","actions"],this.dataSource=new ce,this.isLoading=!1}ngOnInit(){this.loadCompanies()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadCompanies(){this.isLoading=!0,this.companyService.getAll().subscribe({next:t=>{this.dataSource.data=t,this.isLoading=!1},error:t=>{this.snackBar.open("Error loading companies: "+t.message,"Close",{duration:3e3}),this.isLoading=!1}})}applyFilter(t){let o=t.target.value;this.dataSource.filter=o.trim().toLowerCase()}openDialog(t){this.dialog.open(Ot,{width:"600px",data:t?B({},t):null}).afterClosed().subscribe(i=>{i&&this.loadCompanies()})}deleteCompany(t){confirm("Are you sure you want to delete this company?")&&this.companyService.delete(t).subscribe({next:()=>{this.snackBar.open("Company deleted successfully!","Close",{duration:3e3}),this.loadCompanies()},error:o=>{this.snackBar.open("Error deleting company: "+o.message,"Close",{duration:3e3})}})}static{this.\u0275fac=function(o){return new(o||e)(p(Me),p(ge),p(k))}}static{this.\u0275cmp=b({type:e,selectors:[["app-companies-list"]],viewQuery:function(o,i){if(o&1&&(w(v,5),w(E,5)),o&2){let m;I(m=F())&&(i.paginator=m.first),I(m=F())&&(i.sort=m.first)}},standalone:!1,decls:34,vars:6,consts:[[1,"container"],["mat-raised-button","","color","primary",3,"click"],["appearance","fill",1,"search-field"],["matInput","","placeholder","Search companies...",3,"keyup"],["matSuffix",""],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","domain"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","loading-shade",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"loading-shade"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),r(4,"Company Management"),n(),a(5,"button",1),g("click",function(){return i.openDialog()}),a(6,"mat-icon"),r(7,"add"),n(),r(8," Add Company "),n()(),a(9,"mat-card-content")(10,"mat-form-field",2)(11,"mat-label"),r(12,"Search"),n(),a(13,"input",3),g("keyup",function(u){return i.applyFilter(u)}),n(),a(14,"mat-icon",4),r(15,"search"),n()(),a(16,"div",5)(17,"table",6),C(18,7),c(19,bt,2,0,"th",8)(20,wt,2,1,"td",9),_(),C(21,10),c(22,It,2,0,"th",8)(23,Ft,2,1,"td",9),_(),C(24,11),c(25,Lt,2,0,"th",12)(26,Tt,2,1,"td",9),_(),C(27,13),c(28,kt,2,0,"th",12)(29,Rt,7,0,"td",9),_(),c(30,Nt,1,0,"tr",14)(31,Ut,1,0,"tr",15),n(),f(32,"mat-paginator",16),n(),c(33,Bt,2,0,"div",17),n()()()),o&2&&(s(17),d("dataSource",i.dataSource),s(13),d("matHeaderRowDef",i.displayedColumns),s(),d("matRowDefColumns",i.displayedColumns),s(),d("pageSizeOptions",$(5,Ee)),s(),d("ngIf",i.isLoading))},dependencies:[L,N,R,ee,U,T,A,K,X,Y,W,O,te,ne,le,ae,ie,me,oe,re,se,de,v,E,pe,ye],styles:[Ve]})}}return e})(),Vt=[{path:"users",component:jt},{path:"categories",component:At},{path:"companies",component:Pt}],Si=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=De({type:e})}static{this.\u0275inj=xe({imports:[be,Te,ke,we,Ie.forChild(Vt),Ne,Ue,Fe,Re,Le,Be,je,$e,Ae,He,Oe]})}}return e})();export{Si as AdminModule};
