import{Gb as u,I as r,L as o,Mb as l,Nb as f,Qb as g,Rb as v,Sb as y,Tb as p,d,wb as c,yb as s}from"./chunk-346T4PMV.js";var n={production:!1,apiUri:"https://localhost:7213/api",redirectUrl:"http://localhost:4200",firebase:{apiKey:"AIzaSyDMjK-gQghxo1RMf6iFcc42nrktJdyUgZY",authDomain:"famous-sandbox-398111.firebaseapp.com",projectId:"famous-sandbox-398111",storageBucket:"famous-sandbox-398111.firebasestorage.app",messagingSenderId:"736847236700",appId:"1:736847236700:web:a3287e0dfdcde28e0c6099",measurementId:"G-Z65VKWN367"}},a=(()=>{class e{constructor(t,i){this.http=t,this.endpoint=i,this.httpOptions={headers:new c({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getAll(){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/${this.endpoint}`,this.httpOptions)}getById(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/${this.endpoint}/GetById/${t}`,this.httpOptions)}post(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/${this.endpoint}`,t,this.httpOptions)}put(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.put(`${n.apiUri}/${this.endpoint}`,t,this.httpOptions)}delete(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.delete(`${n.apiUri}/${this.endpoint}/${t}`,this.httpOptions)}static{this.\u0275fac=function(i){return new(i||e)(o(s),o(String))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var D=(()=>{class e{constructor(t,i){this.router=t,this.auth=i,this.tokenKey="token",this.currentUser=null;let h=this.getToken();h&&this.isTokenValid(h)?this.setUserFromToken(h):this.logout()}authenticate(t){localStorage.setItem(this.tokenKey,t),this.setUserFromToken(t)}setUserFromToken(t){try{this.currentUser=p(t)}catch(i){console.error("Error decoding token:",i),this.currentUser=null}}logout(){localStorage.removeItem(this.tokenKey),this.currentUser=null,this.router.navigate(["/Unlogged"])}isTokenValid(t){try{return p(t).exp*1e3>Date.now()}catch{return!1}}getToken(){return localStorage.getItem(this.tokenKey)}isAuthenticated(){let t=this.getToken();return!!t&&this.isTokenValid(t)}getFirebaseToken(){return d(this,null,function*(){let t=new l,h=(yield v(this.auth,t)).user;return yield g(h)})}logoutGoogle(){let t=this.auth;return y(t)}getCurrentUser(){let t=this.getToken();return t&&this.isTokenValid(t)?(this.currentUser||this.setUserFromToken(t),this.currentUser):null}static{this.\u0275fac=function(i){return new(i||e)(o(u),o(f))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M=(()=>{class e extends a{constructor(t){super(t,"Category")}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U=(()=>{class e extends a{constructor(t){super(t,"Company"),this.http=t}getMyCompany(){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/Company/GetMyCompany`,this.httpOptions)}getCompanyUsers(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/Company/GetCompanyUsers/${t}`,this.httpOptions)}addUserToGroup(t,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/Company/AddUserToGroup`,{userId:t,groupId:i},this.httpOptions)}removeUserFromGroup(t,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.delete(`${n.apiUri}/Company/RemoveUserFromGroup/${t}/${i}`,this.httpOptions)}update(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.put(`${n.apiUri}/${this.endpoint}`,t,this.httpOptions)}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var b=(()=>{class e extends a{constructor(t){super(t,"Company")}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w=(()=>{class e extends a{constructor(t){super(t,"Course")}saveComplete(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/${this.endpoint}/SaveComplete`,t,this.httpOptions)}getContents(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/${this.endpoint}/GetContents/${t}`,this.httpOptions)}searchCourses(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/${this.endpoint}/Search`,t,this.httpOptions)}purchaseCourse(t,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/${this.endpoint}/Purchase`,{CourseId:t,CompanyId:i},this.httpOptions)}isCourseOwnedByCompany(t,i){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/${this.endpoint}/IsOwnedByCompany/${t}/${i}`,this.httpOptions)}getCourse(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/${this.endpoint}/GetById/${t}`,this.httpOptions)}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),B=(()=>{class e extends a{constructor(t){super(t,"CourseContent")}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var A=(()=>{class e extends a{constructor(t){super(t,"Group"),this.http=t}getByCompanyId(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/Group/GetByCompanyId/${t}`,this.httpOptions)}create(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.post(`${n.apiUri}/Group`,t,this.httpOptions)}update(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.put(`${n.apiUri}/Group`,t,this.httpOptions)}deleteGroup(t){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.delete(`${n.apiUri}/Group/${t}`,this.httpOptions)}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),F=(()=>{class e extends a{constructor(t){super(t,"Media")}uploadFile(t){let i=new FormData;i.append("file",t);let h=new c({Authorization:`Bearer ${localStorage.getItem("token")}`});return this.http.post(`${n.apiUri}/${this.endpoint}/upload`,i,{headers:h})}getFullUrl(t){return t&&(t.startsWith("http://")||t.startsWith("https://"))||t&&t.startsWith("data:")?t:t?`${n.apiUri}${t}`:""}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var x=(()=>{class e extends a{constructor(t){super(t,"Tag")}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z=(()=>{class e extends a{constructor(t){super(t,"User")}register(t,i){return this.http.post(`${n.apiUri}/User/Register?isCompany=${i}`,t,this.httpOptions)}login(t){return this.http.post(`${n.apiUri}/User/Login`,t,this.httpOptions)}loginGoogle(t){let i={IdToken:t};return this.http.post(`${n.apiUri}/User/LoginWithGoogle`,i,this.httpOptions)}getAuthenticatedUser(){return this.httpOptions.headers=this.httpOptions.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`),this.http.get(`${n.apiUri}/User/GetAuthenticatedUser`,this.httpOptions)}static{this.\u0275fac=function(i){return new(i||e)(o(s))}}static{this.\u0275prov=r({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{D as a,M as b,U as c,b as d,w as e,B as f,A as g,F as h,x as i,z as j};
