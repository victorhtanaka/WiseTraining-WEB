<div class="app-container">
  <app-header *ngIf="showHeader" (toggleSidenavEvent)="toggleSidenav()"></app-header>
  
  <div class="main-container" [class.has-header]="showHeader">
    <mat-sidenav-container class="sidenav-container">
      <mat-sidenav #sidenav mode="over" class="sidenav" [fixedInViewport]="true" [fixedTopGap]="64">
        <div class="sidenav-content">
          <div class="sidenav-header">
            <h3>Menu</h3>
            <button mat-icon-button (click)="sidenav.close()">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        
        <!-- Menu para todos os usuários -->
        <mat-nav-list>
          <a mat-list-item routerLink="/Dashboard" routerLinkActive="active-link">
            <mat-icon>dashboard</mat-icon>
            <span>Dashboard</span>
          </a>
          
          <a mat-list-item routerLink="/Courses" routerLinkActive="active-link">
            <mat-icon>school</mat-icon>
            <span>Cursos</span>
          </a>
          
          <a mat-list-item routerLink="/Profile" routerLinkActive="active-link">
            <mat-icon>person</mat-icon>
            <span>Meu Perfil</span>
          </a>
        </mat-nav-list>

        <!-- Menu para usuários de empresa (Company) -->
        <div *ngIf="isCompany">
          <mat-divider></mat-divider>
          <h3 class="sidenav-section-title">Catálogo de Cursos</h3>
          <mat-nav-list>
            <a mat-list-item routerLink="/course-catalog" routerLinkActive="active-link">
              <mat-icon>shopping_cart</mat-icon>
              <span>Comprar Cursos</span>
            </a>
          </mat-nav-list>
        </div>

        <!-- Menu para administradores de empresa -->
        <div *ngIf="isAdmin">
          <mat-divider></mat-divider>
          <h3 class="sidenav-section-title">Administração</h3>
          <mat-nav-list>
            <a mat-list-item routerLink="/CompanyManagement" routerLinkActive="active-link">
              <mat-icon>business</mat-icon>
              <span>Gerenciar Empresa</span>
            </a>
          </mat-nav-list>
        </div>

        <!-- Menu para administradores do sistema -->
        <div *ngIf="isSuperAdmin">
          <mat-divider></mat-divider>
          <h3 class="sidenav-section-title">Admin do Sistema</h3>
          <mat-nav-list>
            <a mat-list-item routerLink="/Users" routerLinkActive="active-link">
              <mat-icon>people</mat-icon>
              <span>Usuários</span>
            </a>
            <a mat-list-item routerLink="/Categories" routerLinkActive="active-link">
              <mat-icon>category</mat-icon>
              <span>Categorias</span>
            </a>
            <a mat-list-item routerLink="/Companies" routerLinkActive="active-link">
              <mat-icon>business</mat-icon>
              <span>Empresas</span>
            </a>
          </mat-nav-list>
        </div>
        
        <!-- Logout -->
        <div class="sidenav-footer">
          <button mat-button color="warn" (click)="logout()">
            <mat-icon>exit_to_app</mat-icon>
            <span>Sair</span>
          </button>
        </div>
      </div>
    </mat-sidenav>
    
    <mat-sidenav-content class="content-container">
      <app-body></app-body>
    </mat-sidenav-content>
  </mat-sidenav-container>
  </div>
</div>
